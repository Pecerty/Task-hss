<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Lista Spesa Mafalda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; padding: 1em; background: #f4f4f4; }
    h2 { text-align: center; }
    #list li { margin: 10px 0; padding: 10px; background: white; border-radius: 5px; }
    #list li.done { text-decoration: line-through; color: gray; opacity: 0.6; }
    button { margin-left: 8px; }
    input { padding: 6px; font-size: 1em; width: 60%; max-width: 300px; }
    @media(max-width: 600px) {
      input { width: 100%; }
      button { margin-top: 5px; display: inline-block; }
    }
  </style>
</head>
<body>
  <h2>ðŸ›’ Lista Spesa Mafalda</h2>
  <input type="text" id="item" placeholder="Aggiungi prodotto">
  <button onclick="addItem()">Aggiungi</button>
  <ul id="list"></ul>
  <script>
    const key = "spesa_mafalda";
    let items = JSON.parse(localStorage.getItem(key) || "[]");
    const listEl = document.getElementById("list");

    function render() {
      listEl.innerHTML = "";
      items.forEach((item, i) => {
        const li = document.createElement("li");
        li.className = item.done ? "done" : "";
        li.innerHTML = `${item.text} 
          <button onclick="toggle({i})">âœ“</button>
          <button onclick="remove({i})">âœ–</button>`;
        listEl.appendChild(li);
      });
      localStorage.setItem(key, JSON.stringify(items));
    }

    function addItem() {
      const val = document.getElementById("item").value.trim();
      if (val) {
        items.push({ text: val, done: false });
        document.getElementById("item").value = "";
        render();
      }
    }
    function toggle(i) { items[i].done = !items[i].done; render(); }
    function remove(i) { items.splice(i, 1); render(); }
    render();
  </script>
</body>
</html>
